<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>diego buencamino</title>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Laptop favicon (SVG data URI) -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect x='8' y='16' width='48' height='28' rx='2' ry='2' fill='%23fff'/%3E%3Crect x='12' y='20' width='40' height='20' fill='%23000'/%3E%3Crect x='6' y='44' width='52' height='6' rx='2' ry='2' fill='%23ccc'/%3E%3C/svg%3E" />
  <style>
    :root { --bg:#000; --fg:#fff; --muted:#9aa0a6; }
    html, body { height: 100%; margin: 0; }

    body {
      background: var(--bg);
      color: var(--fg);
      font-family: 'JetBrains Mono', monospace;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-text-size-adjust: 100%;
      height: 100svh; min-height: 100svh; overflow: hidden;
      display: flex; flex-direction: column;
      padding-left: max(16px, env(safe-area-inset-left));
      padding-right: max(16px, env(safe-area-inset-right));
    }

    a { color: var(--fg); text-decoration: none; border-bottom: none; }

    .source {
      position: fixed; top: max(12px, env(safe-area-inset-top)); left: max(16px, env(safe-area-inset-left));
      font-size: 14px; color: var(--fg); border-bottom: 1px dotted var(--fg); z-index: 10;
    }

    main.center {
      flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
      text-align: center; gap: 4px; padding: 0 4px; min-height: 0;
    }

    h1 { font-size: clamp(28px, 7vw, 48px); font-weight: 600; letter-spacing: .5px; margin: 0; line-height: 1.15; }

    .subtitle, .location-time {
      color: var(--muted); font-size: clamp(12px, 3.5vw, 16px); margin: 0; line-height: 1.2;
    }
    /* Allow subtitle to wrap on narrow screens */
    .subtitle { white-space: normal; }
    .location-time { white-space: nowrap; }
    /* If wrapped, increase space only between subtitle and time */
    .center.wrapped .subtitle { margin-bottom: 10px; }

    footer { margin-top: auto; width: 100%; display: grid; place-items: center;
      padding-bottom: calc(12px + env(safe-area-inset-bottom)); padding-top: 8px; }

    .links { display: flex; gap: 24px; }
    .links a { color: var(--fg); font-size: clamp(18px, 6vw, 22px); line-height: 1; }
    .links a i { display: inline-block; width: 1em; height: 1em; }

    @media (orientation: landscape) and (max-height: 420px) {
      main.center { gap: 2px; }
      .center.wrapped .subtitle { margin-bottom: 6px; }
      footer { padding-top: 4px; }
    }
  </style>
</head>
<body>
  <a class="source" href="https://github.com/bncmn/0df.ca" title="source">source</a>

  <main class="center">
    <h1>Diego Buencamino</h1>
    <p class="subtitle">software development, electronics repair, tech support</p>
    <p class="location-time">vancouver, bc / <span id="clock">--:--:--</span></p>
  </main>

  <footer>
    <div class="links">
      <a href="https://www.linkedin.com/in/bncmn/" target="_blank" rel="noopener" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
      <a href="https://github.com/bncmn" target="_blank" rel="noopener" title="GitHub"><i class="fab fa-github"></i></a>
      <a href="https://github.com/bncmn/bncmn/blob/main/resume.pdf" target="_blank" rel="noopener" title="Resume"><i class="fa-solid fa-file-lines"></i></a>
    </div>
  </footer>

  <script>
    (function() {
      const tz = 'America/Vancouver';
      const api = `https://worldtimeapi.org/api/timezone/${tz}`;
      const clockEl = document.getElementById('clock');
      const center = document.querySelector('main.center');
      const subtitle = document.querySelector('.subtitle');

      let baseEpochMs = null; let syncedAtMs = null;

      async function syncTime() {
        try {
          const res = await fetch(api, { cache: 'no-store' });
          const data = await res.json();
          baseEpochMs = typeof data.unixtime === 'number' ? data.unixtime * 1000
                      : data.datetime ? Date.parse(data.datetime)
                      : Date.now();
          syncedAtMs = performance.now();
        } catch (e) {
          baseEpochMs = Date.now();
          syncedAtMs = performance.now();
        }
      }

      function formatHHMMSS(date) {
        return new Intl.DateTimeFormat('en-CA', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false, timeZone: tz }).format(date);
      }

      function tick() {
        if (baseEpochMs == null || syncedAtMs == null) return;
        const now = performance.now();
        const elapsed = now - syncedAtMs; // ms since last sync
        const internetNow = new Date(baseEpochMs + elapsed);
        clockEl.textContent = formatHHMMSS(internetNow);
      }

      function checkWrap() {
        // If the subtitle's content overflows its line width, it's wrapped
        const wrapped = subtitle.scrollWidth > subtitle.clientWidth;
        center.classList.toggle('wrapped', wrapped);
      }

      syncTime();
      setInterval(tick, 250);
      setInterval(syncTime, 60 * 1000);

      // handle wrapping detection
      checkWrap();
      addEventListener('resize', checkWrap);
      // In case fonts load after first paint
      document.fonts && document.fonts.ready && document.fonts.ready.then(checkWrap);
    })();
  </script>
</body>
</html>
